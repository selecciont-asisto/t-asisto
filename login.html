export default async function handler(req, res) {
  // Solo permitir peticiones POST
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Método no permitido' });
  }

  const { password } = req.body;

  // IMPORTANTE: Se recomienda almacenar esta contraseña en una variable de entorno por seguridad.
  const ADMIN_PASSWORD = process.env.SELECTION_PORTAL_PASSWORD || "T-asisto#2025";

  if (password === ADMIN_PASSWORD) {
    // Si la contraseña es correcta, responde con éxito.
    // El frontend se encargará de guardar la "llave" de sesión.
    res.status(200).json({ success: true, message: 'Autenticación exitosa.' });
  } else {
    // Si la contraseña es incorrecta, responde con un error.
    res.status(401).json({ success: false, message: 'Contraseña incorrecta.' });
  }
}
